{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","onChange","value","PersonForm","onSubmit","name","number","type","Button","person","removePerson","onClick","Persons","persons","showPerson","listPersons","filter","names","toLowerCase","filterValue","indexOf","map","key","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Notification","notification","message","styles","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setShowPerson","setNotification","useEffect","personService","initialPersons","updateNumber","find","p","window","confirm","changedNumber","returnedPerson","setTimeout","catch","error","event","target","preventDefault","concat","ReactDOM","render","document","getElementById"],"mappings":"0NAQeA,EANA,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,MAAb,OACb,kDACoB,2BAAOA,MAAOA,EAAOD,SAAUA,MCctCE,EAhBI,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,SAAUC,EAAmB,EAAnBA,KAAMC,EAAa,EAAbA,OACpC,OACE,0BAAMF,SAAUA,GACd,sCACQ,2BAAOF,MAAOG,EAAKH,MAAOD,SAAUI,EAAKJ,YAEjD,yCACW,2BAAOC,MAAOI,EAAOJ,MAAOD,SAAUK,EAAOL,YAExD,6BACE,4BAAQM,KAAK,UAAb,UCVFC,EAAS,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aACxB,OAAO,4BAAQC,QAAS,kBAAMD,EAAaD,KAApC,WA6BMG,EA1BC,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,QAASC,EAA+B,EAA/BA,WAAYJ,EAAmB,EAAnBA,aAiBhCK,GAde,KAAfD,EACiBD,EAAQG,QAAO,SAAAP,GAChC,IAAMQ,EAAQR,EAAOJ,KAAKa,cACpBC,EAAcL,EAAWI,cAE/B,OAAuC,IAAhCD,EAAMG,QAAQD,MAMlBN,GAG2BQ,KAAI,SAAAZ,GAAM,OAAI,wBAAIa,IAAKb,EAAOJ,MAAOI,EAAOJ,KAA9B,IAAqCI,EAAOH,OAA5C,IAAoD,kBAAC,EAAD,CAAQG,OAAQA,EAAQC,aAAc,kBAAMA,EAAaD,UAE/J,OACE,4BACGM,I,gBC1BDQ,EAAU,eAsBD,EApBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB5B,EAfA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVA,SAAAG,GAEb,OADgBP,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BQ,KAS9B,EALA,SAACA,EAAIF,GAElB,OADgBL,IAAMS,IAAN,UAAaV,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,S,8NClB3C,IAceM,EAdM,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aACtB,GAAqB,OAAjBA,EACF,OAAO,KAFgC,M,yVAAA,IAKRA,GAAzBC,EALiC,EAKjCA,QAASC,EALwB,EAKxBA,OAEjB,OACE,yBAAKC,UAAWD,GACd,4BAAKD,K,oOCFX,IAwKeG,EAxKH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACT3B,EADS,KACA4B,EADA,OAEcD,mBAAS,IAFvB,mBAETE,EAFS,KAEAC,EAFA,OAGkBH,mBAAS,IAH3B,mBAGTI,EAHS,KAGEC,EAHF,OAIoBL,mBAAS,IAJ7B,mBAIT1B,EAJS,KAIGgC,EAJH,OAKwBN,mBAAS,MALjC,mBAKTL,EALS,KAKKY,EALL,KAOhBC,qBAAU,WACRC,IAEGvB,MAAK,SAAAwB,GACJT,EAAWS,QAEd,IAEH,IAiCMC,EAAe,WACnB,IAAM1C,EAASI,EAAQuC,MAAK,SAAAC,GAAC,OAAIA,EAAEhD,OAASqC,KAG5C,GAFkBY,OAAOC,QAAP,UAAkB9C,EAAOJ,KAAzB,2EAEH,CAEb,IAAMmD,E,yVAAa,IAAQ/C,EAAR,CAAgBH,OAAQsC,IAE3CK,EACUxC,EAAOsB,GAAIyB,GAClB9B,MAAK,SAAA+B,GACJV,EACE,CACEX,QAAQ,WAAD,OAAaqB,EAAepD,KAA5B,WACPgC,OAAQ,YAGZqB,YAAW,WACTX,EAAgB,QACf,KACHN,EAAW5B,EAAQQ,KAAI,SAAAgC,GAAC,OAAIA,EAAEhD,OAASI,EAAOJ,KAAOgD,EAAII,SAE1DE,OAAM,SAAAC,GACLb,EACE,CACEX,QAAQ,kBAAD,OAAoB3B,EAAOJ,KAA3B,yCACPgC,OAAQ,UAGZqB,YAAW,WACTX,EAAgB,QACf,KACHN,EAAW5B,EAAQG,QAAO,SAAAqC,GAAC,OAAIA,EAAEhD,OAASI,EAAOJ,cA2DzD,OACE,6BACE,yCAEA,kBAAC,EAAD,CAAc8B,aAAcA,IAE5B,kBAAC,EAAD,CAAQjC,MAAOY,EAAYb,SARJ,SAAC4D,GAAD,OAAWf,EAAce,EAAMC,OAAO5D,UAU7D,yCAEA,kBAAC,EAAD,CACEE,SAhCmB,SAACyD,GACxBA,EAAME,mBAEgBlD,EAAQuC,MAAK,SAAA3C,GAAM,OAAIA,EAAOJ,OAASqC,KAG3DS,IAvGFF,EALqB,CACnB5C,KAAMqC,EACNpC,OAAQsC,IAKPlB,MAAK,SAAA+B,GACJV,EACE,CACEX,QAAQ,SAAD,OAAWqB,EAAepD,MACjCgC,OAAQ,YAGZqB,YAAW,WACTX,EAAgB,QACf,KACHN,EAAW5B,EAAQmD,OAAOP,OAE3BE,OAAM,SAAAC,GACLb,EACE,CACEX,QAASwB,EAAMjC,SAASC,KAAKgC,MAC7BvB,OAAQ,UAGZqB,YAAW,WACTX,EAAgB,QACf,QAqFPJ,EAAW,IACXE,EAAa,KAqBTxC,KAAM,CACJH,MAAOwC,EACPzC,SApBiB,SAAC4D,GAAD,OAAWlB,EAAWkB,EAAMC,OAAO5D,SAsBtDI,OAAQ,CACNJ,MAAO0C,EACP3C,SAtBmB,SAAC4D,GAAD,OAAWhB,EAAagB,EAAMC,OAAO5D,WA0B5D,uCAEA,kBAAC,EAAD,CAASW,QAASA,EAASC,WAAYA,EAAYJ,aA9ElC,SAAAD,GACD6C,OAAOC,QAAP,iBAAyB9C,EAAOJ,KAAhC,OAGhB4C,EACUxC,EAAOsB,IACdL,MAAK,WACJqB,EACE,CACEX,QAAQ,WAAD,OAAa3B,EAAOJ,MAC3BgC,OAAQ,YAGZqB,YAAW,WACTX,EAAgB,QACf,KACHN,EAAW5B,EAAQG,QAAO,SAAAqC,GAAC,OAAIA,EAAEtB,KAAOtB,EAAOsB,UAEhD4B,OAAM,SAAAC,GACLb,EACE,CACEX,QAAQ,GAAD,OAAK3B,EAAOJ,KAAZ,oCACPgC,OAAQ,UAGZqB,YAAW,WACTX,EAAgB,QACf,KACHN,EAAW5B,EAAQG,QAAO,SAAAqC,GAAC,OAAIA,EAAEtB,KAAOtB,EAAOsB,eCtHzDkC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.95101d25.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ onChange, value }) => (\n  <div>\n    filter shown with <input value={value} onChange={onChange} />\n  </div>\n)\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ onSubmit, name, number }) => {\n  return (\n    <form onSubmit={onSubmit}>\n      <div>\n        name: <input value={name.value} onChange={name.onChange} />\n      </div>\n      <div>\n        numbers: <input value={number.value} onChange={number.onChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Button = ({ person, removePerson }) => {\n  return <button onClick={() => removePerson(person)}>delete</button>\n}\n\nconst Persons = ({ persons, showPerson, removePerson }) => {\n\n  const personsToShow = () => {\n    if (showPerson !== '') {\n      const filterList = persons.filter(person => {\n        const names = person.name.toLowerCase()\n        const filterValue = showPerson.toLowerCase()\n\n        return names.indexOf(filterValue) !== -1\n      })\n\n      return filterList\n    }\n\n    return persons\n  }\n\n  const listPersons = personsToShow().map(person => <li key={person.name}>{person.name} {person.number} <Button person={person} removePerson={() => removePerson(person)} /></li>)\n\n  return (\n    <ul>\n      {listPersons}\n    </ul>\n  )\n}\n\nexport default Persons","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, remove, update }","import React from 'react'\n\nconst Notification = ({ notification }) => {\n  if (notification === null) {\n    return null\n  }\n\n  const { message, styles } = { ...notification }\n\n  return (\n    <div className={styles}>\n      <h2>{message}</h2>\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport './index.css'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [showPerson, setShowPerson] = useState('')\n  const [notification, setNotification] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = () => {\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    personService\n      .create(personObject)\n      .then(returnedPerson => {\n        setNotification(\n          {\n            message: `Added ${returnedPerson.name}`,\n            styles: 'success'\n          }\n        )\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n        setPersons(persons.concat(returnedPerson))\n      })\n      .catch(error => {\n        setNotification(\n          {\n            message: error.response.data.error,\n            styles: 'error'\n          }\n        )\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      })\n  }\n\n  const updateNumber = () => {\n    const person = persons.find(p => p.name === newName)\n    const isConfirm = window.confirm(`${person.name} is already added to phonebook, replace the old number with a new one?`)\n\n    if (isConfirm) {\n\n      const changedNumber = { ...person, number: newNumber }\n\n      personService\n        .update(person.id, changedNumber)\n        .then(returnedPerson => {\n          setNotification(\n            {\n              message: `Updated ${returnedPerson.name} number`,\n              styles: 'success'\n            }\n          )\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n          setPersons(persons.map(p => p.name !== person.name ? p : returnedPerson))\n        })\n        .catch(error => {\n          setNotification(\n            {\n              message: `Information of ${person.name} has already been removed from server`,\n              styles: 'error'\n            }\n          )\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n          setPersons(persons.filter(p => p.name !== person.name))\n        })\n    }\n  }\n\n  const removePerson = person => {\n    const isConfirm = window.confirm(`Delete ${person.name}?`);\n\n    if (isConfirm) {\n      personService\n        .remove(person.id)\n        .then(() => {\n          setNotification(\n            {\n              message: `Removed ${person.name}`,\n              styles: 'success'\n            }\n          )\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n          setPersons(persons.filter(p => p.id !== person.id))\n        })\n        .catch(error => {\n          setNotification(\n            {\n              message: `${person.name} was already deleted from server`,\n              styles: 'error'\n            }\n          )\n          setTimeout(() => {\n            setNotification(null)\n          }, 5000)\n          setPersons(persons.filter(p => p.id !== person.id))\n        })\n    }\n  }\n\n  const handleSubmission = (event) => {\n    event.preventDefault()\n\n    const doesNameExist = persons.find(person => person.name === newName) ? true : false;\n\n    if (doesNameExist) {\n      updateNumber()\n    } else {\n      addPerson()\n    }\n\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n\n  const handleFilterChange = (event) => setShowPerson(event.target.value)\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification notification={notification} />\n\n      <Filter value={showPerson} onChange={handleFilterChange} />\n\n      <h3>Add a new</h3>\n\n      <PersonForm\n        onSubmit={handleSubmission}\n        name={{\n          value: newName,\n          onChange: handleNameChange\n        }}\n        number={{\n          value: newNumber,\n          onChange: handleNumberChange\n        }}\n      />\n\n      <h3>Numbers</h3>\n\n      <Persons persons={persons} showPerson={showPerson} removePerson={removePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}